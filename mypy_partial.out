src/dotmac/platform/licensing/models_v2.py:134:24: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class SubscriptionPlan(BaseModel):
                           ^
src/dotmac/platform/licensing/models_v2.py:134:24: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models_v2.py: note: In class "SubscriptionPlan":
src/dotmac/platform/licensing/models_v2.py:134:24: error: Invalid base class
"BaseModel"  [misc]
    class SubscriptionPlan(BaseModel):
                           ^~~~~~~~~
src/dotmac/platform/licensing/models_v2.py: note: At top level:
src/dotmac/platform/licensing/models_v2.py:196:19: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class PlanFeature(BaseModel):
                      ^
src/dotmac/platform/licensing/models_v2.py:196:19: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models_v2.py: note: In class "PlanFeature":
src/dotmac/platform/licensing/models_v2.py:196:19: error: Invalid base class
"BaseModel"  [misc]
    class PlanFeature(BaseModel):
                      ^~~~~~~~~
src/dotmac/platform/licensing/models_v2.py: note: At top level:
src/dotmac/platform/licensing/models_v2.py:241:17: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class PlanQuota(BaseModel):
                    ^
src/dotmac/platform/licensing/models_v2.py:241:17: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models_v2.py: note: In class "PlanQuota":
src/dotmac/platform/licensing/models_v2.py:241:17: error: Invalid base class
"BaseModel"  [misc]
    class PlanQuota(BaseModel):
                    ^~~~~~~~~
src/dotmac/platform/licensing/models_v2.py: note: At top level:
src/dotmac/platform/licensing/models_v2.py:284:26: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class TenantSubscription(BaseModel):
                             ^
src/dotmac/platform/licensing/models_v2.py:284:26: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models_v2.py: note: In class "TenantSubscription":
src/dotmac/platform/licensing/models_v2.py:284:26: error: Invalid base class
"BaseModel"  [misc]
    class TenantSubscription(BaseModel):
                             ^~~~~~~~~
src/dotmac/platform/licensing/models_v2.py: note: At top level:
src/dotmac/platform/licensing/models_v2.py:365:29: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class TenantFeatureOverride(BaseModel):
                                ^
src/dotmac/platform/licensing/models_v2.py:365:29: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models_v2.py: note: In class "TenantFeatureOverride":
src/dotmac/platform/licensing/models_v2.py:365:29: error: Invalid base class
"BaseModel"  [misc]
    class TenantFeatureOverride(BaseModel):
                                ^~~~~~~~~
src/dotmac/platform/licensing/models_v2.py: note: At top level:
src/dotmac/platform/licensing/models_v2.py:425:24: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class TenantQuotaUsage(BaseModel):
                           ^
src/dotmac/platform/licensing/models_v2.py:425:24: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models_v2.py: note: In class "TenantQuotaUsage":
src/dotmac/platform/licensing/models_v2.py:425:24: error: Invalid base class
"BaseModel"  [misc]
    class TenantQuotaUsage(BaseModel):
                           ^~~~~~~~~
src/dotmac/platform/licensing/models_v2.py: note: At top level:
src/dotmac/platform/licensing/models_v2.py:479:23: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class FeatureUsageLog(BaseModel):
                          ^
src/dotmac/platform/licensing/models_v2.py:479:23: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models_v2.py: note: In class "FeatureUsageLog":
src/dotmac/platform/licensing/models_v2.py:479:23: error: Invalid base class
"BaseModel"  [misc]
    class FeatureUsageLog(BaseModel):
                          ^~~~~~~~~
src/dotmac/platform/licensing/models_v2.py: note: At top level:
src/dotmac/platform/licensing/models_v2.py:523:25: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class SubscriptionEvent(BaseModel):
                            ^
src/dotmac/platform/licensing/models_v2.py:523:25: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models_v2.py: note: In class "SubscriptionEvent":
src/dotmac/platform/licensing/models_v2.py:523:25: error: Invalid base class
"BaseModel"  [misc]
    class SubscriptionEvent(BaseModel):
                            ^~~~~~~~~
src/dotmac/platform/licensing/models.py:149:15: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class License(BaseModel):
                  ^
src/dotmac/platform/licensing/models.py:149:15: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models.py: note: In class "License":
src/dotmac/platform/licensing/models.py:149:15: error: Invalid base class
"BaseModel"  [misc]
    class License(BaseModel):
                  ^~~~~~~~~
src/dotmac/platform/licensing/models.py: note: At top level:
src/dotmac/platform/licensing/models.py:252:23: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class LicenseTemplate(BaseModel):
                          ^
src/dotmac/platform/licensing/models.py:252:23: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models.py: note: In class "LicenseTemplate":
src/dotmac/platform/licensing/models.py:252:23: error: Invalid base class
"BaseModel"  [misc]
    class LicenseTemplate(BaseModel):
                          ^~~~~~~~~
src/dotmac/platform/licensing/models.py: note: At top level:
src/dotmac/platform/licensing/models.py:315:18: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class Activation(BaseModel):
                     ^
src/dotmac/platform/licensing/models.py:315:18: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models.py: note: In class "Activation":
src/dotmac/platform/licensing/models.py:315:18: error: Invalid base class
"BaseModel"  [misc]
    class Activation(BaseModel):
                     ^~~~~~~~~
src/dotmac/platform/licensing/models.py: note: At top level:
src/dotmac/platform/licensing/models.py:402:20: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class LicenseOrder(BaseModel):
                       ^
src/dotmac/platform/licensing/models.py:402:20: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models.py: note: In class "LicenseOrder":
src/dotmac/platform/licensing/models.py:402:20: error: Invalid base class
"BaseModel"  [misc]
    class LicenseOrder(BaseModel):
                       ^~~~~~~~~
src/dotmac/platform/licensing/models.py: note: At top level:
src/dotmac/platform/licensing/models.py:484:23: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class ComplianceAudit(BaseModel):
                          ^
src/dotmac/platform/licensing/models.py:484:23: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models.py: note: In class "ComplianceAudit":
src/dotmac/platform/licensing/models.py:484:23: error: Invalid base class
"BaseModel"  [misc]
    class ComplianceAudit(BaseModel):
                          ^~~~~~~~~
src/dotmac/platform/licensing/models.py: note: At top level:
src/dotmac/platform/licensing/models.py:550:27: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class ComplianceViolation(BaseModel):
                              ^
src/dotmac/platform/licensing/models.py:550:27: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models.py: note: In class "ComplianceViolation":
src/dotmac/platform/licensing/models.py:550:27: error: Invalid base class
"BaseModel"  [misc]
    class ComplianceViolation(BaseModel):
                              ^~~~~~~~~
src/dotmac/platform/licensing/models.py: note: At top level:
src/dotmac/platform/licensing/models.py:613:23: error: Variable
"dotmac.platform.db.BaseModel" is not valid as a type  [valid-type]
    class LicenseEventLog(BaseModel):
                          ^
src/dotmac/platform/licensing/models.py:613:23: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/models.py: note: In class "LicenseEventLog":
src/dotmac/platform/licensing/models.py:613:23: error: Invalid base class
"BaseModel"  [misc]
    class LicenseEventLog(BaseModel):
                          ^~~~~~~~~
src/dotmac/platform/licensing/framework.py:125:21: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class FeatureModule(Base):
                        ^
src/dotmac/platform/licensing/framework.py:125:21: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "FeatureModule":
src/dotmac/platform/licensing/framework.py:125:21: error: Invalid base class
"Base"  [misc]
    class FeatureModule(Base):
                        ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:197:24: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class ModuleCapability(Base):
                           ^
src/dotmac/platform/licensing/framework.py:197:24: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "ModuleCapability":
src/dotmac/platform/licensing/framework.py:197:24: error: Invalid base class
"Base"  [misc]
    class ModuleCapability(Base):
                           ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:247:23: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class QuotaDefinition(Base):
                          ^
src/dotmac/platform/licensing/framework.py:247:23: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "QuotaDefinition":
src/dotmac/platform/licensing/framework.py:247:23: error: Invalid base class
"Base"  [misc]
    class QuotaDefinition(Base):
                          ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:307:19: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class ServicePlan(Base):
                      ^
src/dotmac/platform/licensing/framework.py:307:19: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "ServicePlan":
src/dotmac/platform/licensing/framework.py:307:19: error: Invalid base class
"Base"  [misc]
    class ServicePlan(Base):
                      ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:393:18: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class PlanModule(Base):
                     ^
src/dotmac/platform/licensing/framework.py:393:18: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "PlanModule":
src/dotmac/platform/licensing/framework.py:393:18: error: Invalid base class
"Base"  [misc]
    class PlanModule(Base):
                     ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:453:27: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class PlanQuotaAllocation(Base):
                              ^
src/dotmac/platform/licensing/framework.py:453:27: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "PlanQuotaAllocation":
src/dotmac/platform/licensing/framework.py:453:27: error: Invalid base class
"Base"  [misc]
    class PlanQuotaAllocation(Base):
                              ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:507:26: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class TenantSubscription(Base):
                             ^
src/dotmac/platform/licensing/framework.py:507:26: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "TenantSubscription":
src/dotmac/platform/licensing/framework.py:507:26: error: Invalid base class
"Base"  [misc]
    class TenantSubscription(Base):
                             ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:589:26: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class SubscriptionModule(Base):
                             ^
src/dotmac/platform/licensing/framework.py:589:26: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "SubscriptionModule":
src/dotmac/platform/licensing/framework.py:589:26: error: Invalid base class
"Base"  [misc]
    class SubscriptionModule(Base):
                             ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:653:30: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class SubscriptionQuotaUsage(Base):
                                 ^
src/dotmac/platform/licensing/framework.py:653:30: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "SubscriptionQuotaUsage":
src/dotmac/platform/licensing/framework.py:653:30: error: Invalid base class
"Base"  [misc]
    class SubscriptionQuotaUsage(Base):
                                 ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:716:23: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class FeatureUsageLog(Base):
                          ^
src/dotmac/platform/licensing/framework.py:716:23: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "FeatureUsageLog":
src/dotmac/platform/licensing/framework.py:716:23: error: Invalid base class
"Base"  [misc]
    class FeatureUsageLog(Base):
                          ^~~~
src/dotmac/platform/licensing/framework.py: note: At top level:
src/dotmac/platform/licensing/framework.py:754:25: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class SubscriptionEvent(Base):
                            ^
src/dotmac/platform/licensing/framework.py:754:25: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/licensing/framework.py: note: In class "SubscriptionEvent":
src/dotmac/platform/licensing/framework.py:754:25: error: Invalid base class
"Base"  [misc]
    class SubscriptionEvent(Base):
                            ^~~~
src/dotmac/platform/orchestration/models.py:59:29: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class OrchestrationWorkflow(Base, TimestampMixin, TenantMixin):
                                ^
src/dotmac/platform/orchestration/models.py:59:29: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/orchestration/models.py:120:33: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class OrchestrationWorkflowStep(Base, TimestampMixin, TenantMixin):
                                    ^
src/dotmac/platform/orchestration/models.py:120:33: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/workflows/models.py:36:16: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class Workflow(Base, TimestampMixin):
                   ^
src/dotmac/platform/workflows/models.py:36:16: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/workflows/models.py: note: In class "Workflow":
src/dotmac/platform/workflows/models.py:36:16: error: Invalid base class "Base"
 [misc]
    class Workflow(Base, TimestampMixin):
                   ^~~~
src/dotmac/platform/workflows/models.py: note: At top level:
src/dotmac/platform/workflows/models.py:62:25: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class WorkflowExecution(Base, TimestampMixin):
                            ^
src/dotmac/platform/workflows/models.py:62:25: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/workflows/models.py: note: In class "WorkflowExecution":
src/dotmac/platform/workflows/models.py:62:25: error: Invalid base class "Base"
 [misc]
    class WorkflowExecution(Base, TimestampMixin):
                            ^~~~
src/dotmac/platform/workflows/models.py: note: At top level:
src/dotmac/platform/workflows/models.py:95:20: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class WorkflowStep(Base, TimestampMixin):
                       ^
src/dotmac/platform/workflows/models.py:95:20: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/workflows/models.py: note: In class "WorkflowStep":
src/dotmac/platform/workflows/models.py:95:20: error: Invalid base class "Base"
 [misc]
    class WorkflowStep(Base, TimestampMixin):
                       ^~~~
src/dotmac/platform/deployment/models.py:64:26: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class DeploymentTemplate(Base, TimestampMixin):
                             ^
src/dotmac/platform/deployment/models.py:64:26: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/deployment/models.py: note: In class "DeploymentTemplate":
src/dotmac/platform/deployment/models.py:64:26: error: Invalid base class
"Base"  [misc]
    class DeploymentTemplate(Base, TimestampMixin):
                             ^~~~
src/dotmac/platform/deployment/models.py: note: At top level:
src/dotmac/platform/deployment/models.py:128:26: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class DeploymentInstance(Base, TenantMixin, TimestampMixin):
                             ^
src/dotmac/platform/deployment/models.py:128:26: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/deployment/models.py: note: In class "DeploymentInstance":
src/dotmac/platform/deployment/models.py:128:26: error: Invalid base class
"Base"  [misc]
    class DeploymentInstance(Base, TenantMixin, TimestampMixin):
                             ^~~~
src/dotmac/platform/deployment/models.py: note: At top level:
src/dotmac/platform/deployment/models.py:216:27: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class DeploymentExecution(Base, TimestampMixin):
                              ^
src/dotmac/platform/deployment/models.py:216:27: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/deployment/models.py: note: In class "DeploymentExecution":
src/dotmac/platform/deployment/models.py:216:27: error: Invalid base class
"Base"  [misc]
    class DeploymentExecution(Base, TimestampMixin):
                              ^~~~
src/dotmac/platform/deployment/models.py: note: At top level:
src/dotmac/platform/deployment/models.py:279:24: error: Variable
"dotmac.platform.db.Base" is not valid as a type  [valid-type]
    class DeploymentHealth(Base, TimestampMixin):
                           ^
src/dotmac/platform/deployment/models.py:279:24: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
src/dotmac/platform/deployment/models.py: note: In class "DeploymentHealth":
src/dotmac/platform/deployment/models.py:279:24: error: Invalid base class
"Base"  [misc]
    class DeploymentHealth(Base, TimestampMixin):
                           ^~~~
src/dotmac/platform/workflows/engine.py: note: In member "execute_workflow" of class "WorkflowEngine":
src/dotmac/platform/workflows/engine.py:92:36: error: Incompatible types in
assignment (expression has type "datetime", variable has type
"Column[datetime]")  [assignment]
                execution.started_at = datetime.utcnow()
                                       ^~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/engine.py:100:38: error: Incompatible types in
assignment (expression has type "datetime", variable has type
"Column[datetime]")  [assignment]
                execution.completed_at = datetime.utcnow()
                                         ^~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/engine.py:101:32: error: Incompatible types in
assignment (expression has type "dict[str, Any]", variable has type
"Column[Any]")  [assignment]
                execution.result = result
                                   ^~~~~~
src/dotmac/platform/workflows/engine.py:120:38: error: Incompatible types in
assignment (expression has type "datetime", variable has type
"Column[datetime]")  [assignment]
                execution.completed_at = datetime.utcnow()
                                         ^~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/engine.py:121:39: error: Incompatible types in
assignment (expression has type "str", variable has type "Column[str]") 
[assignment]
                execution.error_message = str(e)
                                          ^~~~~~
src/dotmac/platform/workflows/engine.py: note: In member "_execute_step_with_retry" of class "WorkflowEngine":
src/dotmac/platform/workflows/engine.py:225:35: error: Incompatible types in
assignment (expression has type "datetime", variable has type
"Column[datetime]")  [assignment]
                    step.started_at = datetime.utcnow()
                                      ^~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/engine.py:226:36: error: Incompatible types in
assignment (expression has type "int", variable has type "Column[int]") 
[assignment]
                    step.retry_count = attempt
                                       ^~~~~~~
src/dotmac/platform/workflows/engine.py:234:37: error: Incompatible types in
assignment (expression has type "datetime", variable has type
"Column[datetime]")  [assignment]
                    step.completed_at = datetime.utcnow()
                                        ^~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/engine.py:236:41: error: Incompatible types in
assignment (expression has type "int", variable has type "Column[int]") 
[assignment]
                    step.duration_seconds = int((step.completed_at - step....
                                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src/dotmac/platform/workflows/engine.py:253:38: error: Incompatible types in
assignment (expression has type "str", variable has type "Column[str]") 
[assignment]
                    step.error_message = str(e)
                                         ^~~~~~
src/dotmac/platform/workflows/engine.py:254:38: error: Incompatible types in
assignment (expression has type "dict[str, object]", variable has type
"Column[Any]")  [assignment]
                    step.error_details = {"attempt": attempt + 1, "error_t...
                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src/dotmac/platform/workflows/engine.py:263:41: error: Incompatible types in
assignment (expression has type "datetime", variable has type
"Column[datetime]")  [assignment]
                        step.completed_at = datetime.utcnow()
                                            ^~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/engine.py: note: In member "_get_nested_value" of class "WorkflowEngine":
src/dotmac/platform/workflows/engine.py:456:27: error: Incompatible types in
assignment (expression has type "Any | None", variable has type
"dict[str, Any]")  [assignment]
                    current = current.get(part)
                              ^~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/engine.py: note: In member "cancel_execution" of class "WorkflowEngine":
src/dotmac/platform/workflows/engine.py:542:34: error: Incompatible types in
assignment (expression has type "datetime", variable has type
"Column[datetime]")  [assignment]
            execution.completed_at = datetime.utcnow()
                                     ^~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/service.py: note: In member "update_workflow" of class "WorkflowService":
src/dotmac/platform/workflows/service.py:102:35: error: Incompatible types in
assignment (expression has type "dict[str, Any]", variable has type
"Column[Any]")  [assignment]
                workflow.definition = definition
                                      ^~~~~~~~~~
src/dotmac/platform/workflows/service.py:104:36: error: Incompatible types in
assignment (expression has type "str", variable has type "Column[str]") 
[assignment]
                workflow.description = description
                                       ^~~~~~~~~~~
src/dotmac/platform/workflows/service.py:106:34: error: Incompatible types in
assignment (expression has type "bool", variable has type "Column[bool]") 
[assignment]
                workflow.is_active = is_active
                                     ^~~~~~~~~
src/dotmac/platform/workflows/service.py:108:29: error: Incompatible types in
assignment (expression has type "dict[str, Any]", variable has type
"Column[Any]")  [assignment]
                workflow.tags = tags
                                ^~~~
src/dotmac/platform/workflows/service.py: note: In member "get_execution_stats" of class "WorkflowService":
src/dotmac/platform/workflows/service.py:378:26: error: Generator has
incompatible item type "Callable[[Any], int]"; expected "bool"  [misc]
                "total": sum(row.count for row in rows),
                             ^~~~~~~~~
src/dotmac/platform/orchestration/schemas.py: note: In class "SuspendServiceRequest":
src/dotmac/platform/orchestration/schemas.py:177:33: error: No overload variant
of "Field" matches argument types "bool", "str", "AliasChoices"  [call-overload]
        disconnect_sessions: bool = Field(
                                    ^
src/dotmac/platform/orchestration/schemas.py:177:33: note: Possible overload variants:
src/dotmac/platform/orchestration/schemas.py:177:33: note:     def Field(default: EllipsisType, *, alias: str | None = ..., alias_priority: int | None = ..., validation_alias: str | AliasPath | AliasChoices | None = ..., serialization_alias: str | None = ..., title: str | None = ..., field_title_generator: Callable[[str, FieldInfo], str] | None = ..., description: str | None = ..., examples: list[Any] | None = ..., exclude: bool | None = ..., exclude_if: Callable[[Any], bool] | None = ..., discriminator: str | Discriminator | None = ..., deprecated: deprecated | str | bool | None = ..., json_schema_extra: JsonDict | Callable[[JsonDict], None] | None = ..., frozen: bool | None = ..., validate_default: bool | None = ..., repr: bool = ..., init: bool | None = ..., init_var: bool | None = ..., kw_only: bool | None = ..., pattern: str | Pattern[str] | None = ..., strict: bool | None = ..., coerce_numbers_to_str: bool | None = ..., gt: SupportsGt | None = ..., ge: SupportsGe | None = ..., lt: SupportsLt | None = ..., le: SupportsLe | None = ..., multiple_of: float | None = ..., allow_inf_nan: bool | None = ..., max_digits: int | None = ..., decimal_places: int | None = ..., min_length: int | None = ..., max_length: int | None = ..., union_mode: Literal['smart', 'left_to_right'] = ..., fail_fast: bool | None = ...) -> Any
src/dotmac/platform/orchestration/schemas.py:177:33: note:     def Field(default: Any, *, alias: str | None = ..., alias_priority: int | None = ..., validation_alias: str | AliasPath | AliasChoices | None = ..., serialization_alias: str | None = ..., title: str | None = ..., field_title_generator: Callable[[str, FieldInfo], str] | None = ..., description: str | None = ..., examples: list[Any] | None = ..., exclude: bool | None = ..., exclude_if: Callable[[Any], bool] | None = ..., discriminator: str | Discriminator | None = ..., deprecated: deprecated | str | bool | None = ..., json_schema_extra: JsonDict | Callable[[JsonDict], None] | None = ..., frozen: bool | None = ..., validate_default: Literal[True], repr: bool = ..., init: bool | None = ..., init_var: bool | None = ..., kw_only: bool | None = ..., pattern: str | Pattern[str] | None = ..., strict: bool | None = ..., coerce_numbers_to_str: bool | None = ..., gt: SupportsGt | None = ..., ge: SupportsGe | None = ..., lt: SupportsLt | None = ..., le: SupportsLe | None = ..., multiple_of: float | None = ..., allow_inf_nan: bool | None = ..., max_digits: int | None = ..., decimal_places: int | None = ..., min_length: int | None = ..., max_length: int | None = ..., union_mode: Literal['smart', 'left_to_right'] = ..., fail_fast: bool | None = ...) -> Any
src/dotmac/platform/orchestration/schemas.py:177:33: note:     def [_T] Field(default: _T, *, alias: str | None = ..., alias_priority: int | None = ..., validation_alias: str | AliasPath | AliasChoices | None = ..., serialization_alias: str | None = ..., title: str | None = ..., field_title_generator: Callable[[str, FieldInfo], str] | None = ..., description: str | None = ..., examples: list[Any] | None = ..., exclude: bool | None = ..., exclude_if: Callable[[Any], bool] | None = ..., discriminator: str | Discriminator | None = ..., deprecated: deprecated | str | bool | None = ..., json_schema_extra: JsonDict | Callable[[JsonDict], None] | None = ..., frozen: bool | None = ..., validate_default: Literal[False] = ..., repr: bool = ..., init: bool | None = ..., init_var: bool | None = ..., kw_only: bool | None = ..., pattern: str | Pattern[str] | None = ..., strict: bool | None = ..., coerce_numbers_to_str: bool | None = ..., gt: SupportsGt | None = ..., ge: SupportsGe | None = ..., lt: SupportsLt | None = ..., le: SupportsLe | None = ..., multiple_of: float | None = ..., allow_inf_nan: bool | None = ..., max_digits: int | None = ..., decimal_places: int | None = ..., min_length: int | None = ..., max_length: int | None = ..., union_mode: Literal['smart', 'left_to_right'] = ..., fail_fast: bool | None = ...) -> _T
src/dotmac/platform/orchestration/schemas.py:177:33: note:     def Field(*, default_factory: Callable[[], Any] | Callable[[dict[str, Any]], Any], alias: str | None = ..., alias_priority: int | None = ..., validation_alias: str | AliasPath | AliasChoices | None = ..., serialization_alias: str | None = ..., title: str | None = ..., field_title_generator: Callable[[str, FieldInfo], str] | None = ..., description: str | None = ..., examples: list[Any] | None = ..., exclude: bool | None = ..., exclude_if: Callable[[Any], bool] | None = ..., discriminator: str | Discriminator | None = ..., deprecated: deprecated | str | bool | None = ..., json_schema_extra: JsonDict | Callable[[JsonDict], None] | None = ..., frozen: bool | None = ..., validate_default: Literal[True], repr: bool = ..., init: bool | None = ..., init_var: bool | None = ..., kw_only: bool | None = ..., pattern: str | Pattern[str] | None = ..., strict: bool | None = ..., coerce_numbers_to_str: bool | None = ..., gt: SupportsGt | None = ..., ge: SupportsGe | None = ..., lt: SupportsLt | None = ..., le: SupportsLe | None = ..., multiple_of: float | None = ..., allow_inf_nan: bool | None = ..., max_digits: int | None = ..., decimal_places: int | None = ..., min_length: int | None = ..., max_length: int | None = ..., union_mode: Literal['smart', 'left_to_right'] = ..., fail_fast: bool | None = ...) -> Any
src/dotmac/platform/orchestration/schemas.py:177:33: note:     def [_T] Field(*, default_factory: Callable[[], _T] | Callable[[dict[str, Any]], _T], alias: str | None = ..., alias_priority: int | None = ..., validation_alias: str | AliasPath | AliasChoices | None = ..., serialization_alias: str | None = ..., title: str | None = ..., field_title_generator: Callable[[str, FieldInfo], str] | None = ..., description: str | None = ..., examples: list[Any] | None = ..., exclude: bool | None = ..., exclude_if: Callable[[Any], bool] | None = ..., discriminator: str | Discriminator | None = ..., deprecated: deprecated | str | bool | None = ..., json_schema_extra: JsonDict | Callable[[JsonDict], None] | None = ..., frozen: bool | None = ..., validate_default: Literal[False] | None = ..., repr: bool = ..., init: bool | None = ..., init_var: bool | None = ..., kw_only: bool | None = ..., pattern: str | Pattern[str] | None = ..., strict: bool | None = ..., coerce_numbers_to_str: bool | None = ..., gt: SupportsGt | None = ..., ge: SupportsGe | None = ..., lt: SupportsLt | None = ..., le: SupportsLe | None = ..., multiple_of: float | None = ..., allow_inf_nan: bool | None = ..., max_digits: int | None = ..., decimal_places: int | None = ..., min_length: int | None = ..., max_length: int | None = ..., union_mode: Literal['smart', 'left_to_right'] = ..., fail_fast: bool | None = ...) -> _T
src/dotmac/platform/orchestration/schemas.py:177:33: note:     def Field(*, alias: str | None = ..., alias_priority: int | None = ..., validation_alias: str | AliasPath | AliasChoices | None = ..., serialization_alias: str | None = ..., title: str | None = ..., field_title_generator: Callable[[str, FieldInfo], str] | None = ..., description: str | None = ..., examples: list[Any] | None = ..., exclude: bool | None = ..., exclude_if: Callable[[Any], bool] | None = ..., discriminator: str | Discriminator | None = ..., deprecated: deprecated | str | bool | None = ..., json_schema_extra: JsonDict | Callable[[JsonDict], None] | None = ..., frozen: bool | None = ..., validate_default: bool | None = ..., repr: bool = ..., init: bool | None = ..., init_var: bool | None = ..., kw_only: bool | None = ..., pattern: str | Pattern[str] | None = ..., strict: bool | None = ..., coerce_numbers_to_str: bool | None = ..., gt: SupportsGt | None = ..., ge: SupportsGe | None = ..., lt: SupportsLt | None = ..., le: SupportsLe | None = ..., multiple_of: float | None = ..., allow_inf_nan: bool | None = ..., max_digits: int | None = ..., decimal_places: int | None = ..., min_length: int | None = ..., max_length: int | None = ..., union_mode: Literal['smart', 'left_to_right'] = ..., fail_fast: bool | None = ...) -> Any
src/dotmac/platform/workflows/validation_schemas.py: note: In member "validate_end_time" of class "ScheduleMaintenanceInput":
src/dotmac/platform/workflows/validation_schemas.py:179:5: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
        def validate_end_time(cls, v: datetime, info) -> datetime:
        ^
src/dotmac/platform/licensing/service.py: note: In member "transfer_license" of class "LicensingService":
src/dotmac/platform/licensing/service.py:288:35: error: Incompatible types in
assignment (expression has type "str | None", variable has type
"SQLCoreOperations[UUID | None] | UUID | None")  [assignment]
            license_obj.customer_id = data.new_customer_id
                                      ^~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/licensing/service.py: note: In member "create_template" of class "LicensingService":
src/dotmac/platform/licensing/service.py:679:20: error: Incompatible return
value type (got "SimpleNamespace", expected "LicenseTemplate")  [return-value]
                return template_stub
                       ^~~~~~~~~~~~~
src/dotmac/platform/licensing/service.py: note: In member "create_order" of class "LicensingService":
src/dotmac/platform/licensing/service.py:809:20: error: Incompatible return
value type (got "SimpleNamespace", expected "LicenseOrder")  [return-value]
                return order_stub
                       ^~~~~~~~~~
src/dotmac/platform/timeseries/db.py: note: In function "init_timescaledb":
src/dotmac/platform/timeseries/db.py:44:30: error: No overload variant of
"sessionmaker" matches argument types "AsyncEngine", "type[AsyncSession]",
"bool"  [call-overload]
        TimeSeriesSessionLocal = sessionmaker(
                                 ^
src/dotmac/platform/timeseries/db.py:44:30: note: Possible overload variants:
src/dotmac/platform/timeseries/db.py:44:30: note:     def [_S: Session] sessionmaker(self, bind: Engine | Connection | None = ..., *, class_: type[_S], autoflush: bool = ..., expire_on_commit: bool = ..., info: dict[Any, Any] | None = ..., **kw: Any) -> sessionmaker[_S]
src/dotmac/platform/timeseries/db.py:44:30: note:     def [_S: Session] sessionmaker(self, bind: Engine | Connection | None = ..., *, autoflush: bool = ..., expire_on_commit: bool = ..., info: dict[Any, Any] | None = ..., **kw: Any) -> sessionmaker[Session]
src/dotmac/platform/licensing/enforcement.py: note: In function "require_module":
src/dotmac/platform/licensing/enforcement.py:43:9: error: Function is missing a
type annotation for one or more arguments  [no-untyped-def]
            async def wrapper(*args, **kwargs) -> Any:
            ^
src/dotmac/platform/licensing/enforcement.py: note: In function "check_feature_access":
src/dotmac/platform/licensing/enforcement.py:109:9: error: Function is missing
a type annotation for one or more arguments  [no-untyped-def]
            async def wrapper(*args, **kwargs) -> Any:
            ^
src/dotmac/platform/licensing/enforcement.py: note: In function "enforce_quota":
src/dotmac/platform/licensing/enforcement.py:167:9: error: Function is missing
a type annotation for one or more arguments  [no-untyped-def]
            async def wrapper(*args, **kwargs) -> Any:
            ^
src/dotmac/platform/licensing/enforcement.py: note: In function "check_quota":
src/dotmac/platform/licensing/enforcement.py:245:9: error: Function is missing
a type annotation for one or more arguments  [no-untyped-def]
            async def wrapper(*args, **kwargs) -> Any:
            ^
src/dotmac/platform/licensing/enforcement.py: note: In member "__init__" of class "FeatureEntitlementMiddleware":
src/dotmac/platform/licensing/enforcement.py:304:5: error: The return type of
"__init__" must be None  [misc]
        def __init__(self, app, route_module_map: dict[str, tuple[str, str...
        ^
src/dotmac/platform/licensing/enforcement.py:304:5: error: Function is missing
a type annotation for one or more arguments  [no-untyped-def]
        def __init__(self, app, route_module_map: dict[str, tuple[str, str...
        ^
src/dotmac/platform/licensing/enforcement.py: note: In member "__call__" of class "FeatureEntitlementMiddleware":
src/dotmac/platform/licensing/enforcement.py:315:5: error: Function is missing
a type annotation for one or more arguments  [no-untyped-def]
        async def __call__(self, request: Request, call_next) -> Any:
        ^
src/dotmac/platform/licensing/enforcement.py: note: In function "require_module_dependency":
src/dotmac/platform/licensing/enforcement.py:364:1: error: Function is missing
a type annotation for one or more arguments  [no-untyped-def]
    async def require_module_dependency(
    ^
src/dotmac/platform/licensing/enforcement.py: note: In function "check_quota_dependency":
src/dotmac/platform/licensing/enforcement.py:416:1: error: Function is missing
a type annotation for one or more arguments  [no-untyped-def]
    async def check_quota_dependency(
    ^
src/dotmac/platform/licensing/enforcement.py:420:24: error: Incompatible
default for argument "db" (default has type "None", argument has type
"AsyncSession")  [assignment]
        db: AsyncSession = None,
                           ^~~~
src/dotmac/platform/licensing/enforcement.py:420:24: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src/dotmac/platform/licensing/enforcement.py:420:24: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src/dotmac/platform/licensing/enforcement.py: note: In member "__init__" of class "QuotaContext":
src/dotmac/platform/licensing/enforcement.py:494:5: error: The return type of
"__init__" must be None  [misc]
        def __init__(
        ^
src/dotmac/platform/licensing/enforcement.py:500:26: error: Incompatible
default for argument "metadata" (default has type "None", argument has type
"dict[Any, Any]")  [assignment]
            metadata: dict = None,
                             ^~~~
src/dotmac/platform/licensing/enforcement.py:500:26: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src/dotmac/platform/licensing/enforcement.py:500:26: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src/dotmac/platform/licensing/enforcement.py: note: In member "__aexit__" of class "QuotaContext":
src/dotmac/platform/licensing/enforcement.py:529:5: error: Function is missing
a type annotation for one or more arguments  [no-untyped-def]
        async def __aexit__(self, exc_type, exc_val, exc_tb) -> Any:
        ^
src/dotmac/platform/workflows/base.py: note: In member "record_execution" of class "MetricsCollector":
src/dotmac/platform/workflows/base.py:80:5: error: Function is missing a return
type annotation  [no-untyped-def]
        def record_execution(
        ^
src/dotmac/platform/workflows/base.py: note: In member "reset" of class "MetricsCollector":
src/dotmac/platform/workflows/base.py:130:5: error: Function is missing a
return type annotation  [no-untyped-def]
        def reset(self, operation: str | None = None):
        ^
src/dotmac/platform/workflows/base.py: note: In member "call" of class "CircuitBreaker":
src/dotmac/platform/workflows/base.py:215:5: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
        async def call(self, func: Callable[..., T], *args, **kwargs) -> T...
        ^
src/dotmac/platform/workflows/base.py:237:22: error: Incompatible types in
"await" (actual type "T", expected type "Awaitable[Any]")  [misc]
                result = await func(*args, **kwargs)
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/base.py: note: In member "with_retry" of class "WorkflowServiceBase":
src/dotmac/platform/workflows/base.py:425:5: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
        async def with_retry(
        ^
src/dotmac/platform/workflows/base.py:456:26: error: Incompatible types in
"await" (actual type "T", expected type "Awaitable[Any]")  [misc]
                    result = await operation(*args, **kwargs)
                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/base.py: note: In member "transaction" of class "WorkflowServiceBase":
src/dotmac/platform/workflows/base.py:520:5: error: Function is missing a
return type annotation  [no-untyped-def]
        async def transaction(self, operation_name: str = "transaction"):
        ^
src/dotmac/platform/workflows/base.py: note: In member "log_request" of class "WorkflowServiceBase":
src/dotmac/platform/workflows/base.py:554:5: error: Function is missing a
return type annotation  [no-untyped-def]
        def log_request(self, method: str, params: dict[str, Any]):
        ^
src/dotmac/platform/workflows/base.py: note: In member "log_response" of class "WorkflowServiceBase":
src/dotmac/platform/workflows/base.py:574:5: error: Function is missing a
return type annotation  [no-untyped-def]
        async def log_response(
        ^
src/dotmac/platform/workflows/base.py:621:32: error: Incompatible types in
assignment (expression has type "str", target has type "float")  [assignment]
                details["error"] = error
                                   ^~~~~
src/dotmac/platform/workflows/base.py:624:41: error: Incompatible types in
assignment (expression has type "dict[Any, Any]", target has type "float") 
[assignment]
                details["result_summary"] = {
                                            ^
src/dotmac/platform/workflows/base.py: note: In member "_sanitize_params" of class "WorkflowServiceBase":
src/dotmac/platform/workflows/base.py:685:34: error: Incompatible types in
assignment (expression has type "dict[str, Any]", target has type "str") 
[assignment]
                    sanitized[key] = self._sanitize_params(value)
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/workflows/base.py: note: In member "operation" of class "WorkflowServiceBase":
src/dotmac/platform/workflows/base.py:691:5: error: Function is missing a
return type annotation  [no-untyped-def]
        def operation(self, method_name: str | None = None):
        ^
src/dotmac/platform/workflows/base.py: note: In function "operation":
src/dotmac/platform/workflows/base.py:713:13: error: Function is missing a type
annotation for one or more arguments  [no-untyped-def]
                async def wrapper(*args, **kwargs) -> T:
                ^
src/dotmac/platform/workflows/base.py:720:40: error: Incompatible types in
assignment (expression has type "dict[str, Any]", target has type
"tuple[Any, ...]")  [assignment]
                        params["kwargs"] = kwargs
                                           ^~~~~~
src/dotmac/platform/workflows/base.py:730:30: error: Incompatible types in
"await" (actual type "T", expected type "Awaitable[Any]")  [misc]
                        result = await func(*args, **kwargs)
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/licensing/router_framework.py: note: In function "create_feature_module":
src/dotmac/platform/licensing/router_framework.py:118:19: error: Unexpected
keyword argument "permissions" for "add_module_capability" of
"LicensingFrameworkService"  [call-arg]
                await service.add_module_capability(
                      ^
src/dotmac/platform/licensing/service_framework.py:109:5: note: "add_module_capability" of "LicensingFrameworkService" defined here
src/dotmac/platform/licensing/router_framework.py: note: In function "add_module_capability":
src/dotmac/platform/licensing/router_framework.py:239:24: error: Unexpected
keyword argument "permissions" for "add_module_capability" of
"LicensingFrameworkService"  [call-arg]
        capability = await service.add_module_capability(
                           ^
src/dotmac/platform/licensing/router_framework.py: note: In function "create_quota_definition":
src/dotmac/platform/licensing/router_framework.py:271:19: error: Unexpected
keyword argument "config" for "create_quota_definition" of
"LicensingFrameworkService"  [call-arg]
        quota = await service.create_quota_definition(
                      ^
src/dotmac/platform/licensing/service_framework.py:185:5: note: "create_quota_definition" of "LicensingFrameworkService" defined here
src/dotmac/platform/db/testing.py:32:40: error: Module has no attribute
"get_database_url"  [attr-defined]
    _get_database_url: Callable[[], str] = db_module.get_database_url
                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/db/testing.py:33:46: error: Module has no attribute
"get_async_database_url"  [attr-defined]
    _get_async_database_url: Callable[[], str] = db_module.get_async_datab...
                                                 ^~~~~~~~~~~~~~~~~~~~~~~~~...
src/dotmac/platform/licensing/workflow_service.py: note: In member "__init__" of class "LicenseService":
src/dotmac/platform/licensing/workflow_service.py:44:5: error: The return type
of "__init__" must be None  [misc]
        def __init__(self, db: AsyncSession) -> Any:
        ^
src/dotmac/platform/orchestration/service.py: note: In member "_commit" of class "OrchestrationService":
src/dotmac/platform/orchestration/service.py:115:13: error: Incompatible types
in "await" (actual type "Coroutine[Any, Any, None] | None", expected type
"Awaitable[Any]")  [misc]
                await self.db.commit()
                ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/orchestration/service.py: note: In member "_refresh" of class "OrchestrationService":
src/dotmac/platform/orchestration/service.py:121:13: error: Incompatible types
in "await" (actual type "Coroutine[Any, Any, None] | None", expected type
"Awaitable[Any]")  [misc]
                await self.db.refresh(instance)
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/orchestration/service.py: note: In member "_execute" of class "OrchestrationService":
src/dotmac/platform/orchestration/service.py:127:20: error: Incompatible types
in "await" (actual type "Result[Any] | Coroutine[Any, Any, Result[Any]]",
expected type "Awaitable[Any]")  [misc]
                return await self.db.execute(stmt)
                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/orchestration/service.py: note: In member "_flush" of class "OrchestrationService":
src/dotmac/platform/orchestration/service.py:132:13: error: Incompatible types
in "await" (actual type "Coroutine[Any, Any, None] | None", expected type
"Awaitable[Any]")  [misc]
                await self.db.flush()
                ^~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/orchestration/service.py: note: In member "get_workflow_statistics" of class "OrchestrationService":
src/dotmac/platform/orchestration/service.py:647:17: error: No overload variant
of "select" matches argument types "WorkflowStatus", "count"  [call-overload]
                    select(Workflow.status, func.count(Workflow.id))
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/orchestration/service.py:647:17: note: Possible overload variants:
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], /) -> Select[tuple[_T0]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any, _T1: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], /) -> Select[tuple[_T0, _T1]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any, _T1: Any, _T2: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], /) -> Select[tuple[_T0, _T1, _T2]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], /) -> Select[tuple[_T0, _T1, _T2, _T3]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any, _T9: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], TypedColumnsClauseRole[_T9] | SQLCoreOperations[_T9] | type[_T9], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8, _T9]]
src/dotmac/platform/orchestration/service.py:647:17: note:     def select(*entities: TypedColumnsClauseRole[Any] | ColumnsClauseRole | SQLCoreOperations[Any] | Literal['*', 1] | type[Any] | Inspectable[_HasClauseElement[Any]] | _HasClauseElement[Any], **Any) -> Select[Any]
src/dotmac/platform/orchestration/service.py:671:17: error: No overload variant
of "select" matches argument types "WorkflowType", "count"  [call-overload]
                    select(Workflow.workflow_type, func.count(Workflow.id)...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/orchestration/service.py:671:17: note: Possible overload variants:
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], /) -> Select[tuple[_T0]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any, _T1: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], /) -> Select[tuple[_T0, _T1]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any, _T1: Any, _T2: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], /) -> Select[tuple[_T0, _T1, _T2]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], /) -> Select[tuple[_T0, _T1, _T2, _T3]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any, _T9: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], TypedColumnsClauseRole[_T9] | SQLCoreOperations[_T9] | type[_T9], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8, _T9]]
src/dotmac/platform/orchestration/service.py:671:17: note:     def select(*entities: TypedColumnsClauseRole[Any] | ColumnsClauseRole | SQLCoreOperations[Any] | Literal['*', 1] | type[Any] | Inspectable[_HasClauseElement[Any]] | _HasClauseElement[Any], **Any) -> Select[Any]
src/dotmac/platform/orchestration/router.py: note: In function "_get_initiator_id":
src/dotmac/platform/orchestration/router.py:74:20: error: "UserInfo" has no
attribute "id"  [attr-defined]
            return str(user.id)
                       ^~~~~~~
src/dotmac/platform/orchestration/router.py: note: In function "require_permissions_with_cache":
src/dotmac/platform/orchestration/router.py:109:1: error: Function is missing a
return type annotation  [no-untyped-def]
    def require_permissions_with_cache(*permissions: str):
    ^
src/dotmac/platform/orchestration/router.py: note: In function "require_permission_with_cache":
src/dotmac/platform/orchestration/router.py:135:1: error: Function is missing a
return type annotation  [no-untyped-def]
    def require_permission_with_cache(permission: str):
    ^
src/dotmac/platform/orchestration/router.py: note: In function "require_any_permission_with_cache":
src/dotmac/platform/orchestration/router.py:139:1: error: Function is missing a
return type annotation  [no-untyped-def]
    def require_any_permission_with_cache(*permissions: str):
    ^
src/dotmac/platform/orchestration/router.py: note: In function "export_workflows_json":
src/dotmac/platform/orchestration/router.py:734:23: error: Need type annotation
for "export_data"  [var-annotated]
            export_data = {
                          ^
Found 139 errors in 19 files (checked 55 source files)
