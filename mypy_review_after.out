src/dotmac/platform/network/ipv4_lifecycle_service.py: note: In member "activate" of class "IPv4LifecycleService":
src/dotmac/platform/network/ipv4_lifecycle_service.py:270:21: error:
Unsupported target for indexed assignment ("dict[str, Any] | None")  [index]
                        reservation.lifecycle_metadata["netbox_synced"] = ...
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/network/ipv4_lifecycle_service.py:271:21: error:
Unsupported target for indexed assignment ("dict[str, Any] | None")  [index]
                        reservation.lifecycle_metadata["netbox_synced_at"]...
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/network/ipv4_lifecycle_service.py:276:21: error:
Unsupported target for indexed assignment ("dict[str, Any] | None")  [index]
                        reservation.lifecycle_metadata["netbox_sync_error"...
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/network/ipv4_lifecycle_service.py:286:21: error:
Unsupported target for indexed assignment ("dict[str, Any] | None")  [index]
                        reservation.lifecycle_metadata["coa_sent"] = True
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/network/ipv4_lifecycle_service.py:287:21: error:
Unsupported target for indexed assignment ("dict[str, Any] | None")  [index]
                        reservation.lifecycle_metadata["coa_sent_at"] = da...
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/network/ipv4_lifecycle_service.py:292:21: error:
Unsupported target for indexed assignment ("dict[str, Any] | None")  [index]
                        reservation.lifecycle_metadata["coa_error"] = str(...
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/network/ipv4_lifecycle_service.py: note: In member "suspend" of class "IPv4LifecycleService":
src/dotmac/platform/network/ipv4_lifecycle_service.py:394:17: error:
Unsupported target for indexed assignment ("dict[str, Any] | None")  [index]
                    reservation.lifecycle_metadata["suspension_reason"] = ...
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/network/tasks.py: note: In function "_cleanup_ipv6_stale_prefixes_async":
src/dotmac/platform/network/tasks.py:46:13: error: "Settings" has no attribute
"database_url"; maybe "database"?  [attr-defined]
            str(settings.database_url),
                ^~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/network/tasks.py:157:29: error: Argument 1 to
"IPv6LifecycleService" has incompatible type "AsyncConnection"; expected
"AsyncSession"  [arg-type]
                                conn, profile.tenant_id, netbox_client=Non...
                                ^~~~
src/dotmac/platform/network/tasks.py: note: In function "_emit_ipv6_metrics_async":
src/dotmac/platform/network/tasks.py:232:13: error: "Settings" has no attribute
"database_url"; maybe "database"?  [attr-defined]
            str(settings.database_url),
                ^~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/network/tasks.py:242:43: error: Argument 1 to "IPv6Metrics"
has incompatible type "AsyncConnection"; expected "AsyncSession"  [arg-type]
                metrics_service = IPv6Metrics(conn, tenant_id=None)
                                              ^~~~
src/dotmac/platform/network/tasks.py:274:12: error: Incompatible return value
type (got "dict[str, dict[str, int]]", expected "dict[str, int]") 
[return-value]
        return metrics
               ^~~~~~~
src/dotmac/platform/billing/reports/generators.py: note: In member "get_blocked_customers_summary" of class "BlockedCustomersReportGenerator":
src/dotmac/platform/billing/reports/generators.py:888:13: error: No overload
variant of "select" matches argument types "Label[str]",
"InstrumentedAttribute[str]", "Any", "Label[UUID]", "Callable[[Customer], str]",
"InstrumentedAttribute[str]", "InstrumentedAttribute[str | None]", "Label[int]",
"Label[int]"  [call-overload]
                select(
                ^
src/dotmac/platform/billing/reports/generators.py:888:13: note: Possible overload variants:
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], /) -> Select[tuple[_T0]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any, _T1: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], /) -> Select[tuple[_T0, _T1]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any, _T1: Any, _T2: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], /) -> Select[tuple[_T0, _T1, _T2]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], /) -> Select[tuple[_T0, _T1, _T2, _T3]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any, _T9: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], TypedColumnsClauseRole[_T9] | SQLCoreOperations[_T9] | type[_T9], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8, _T9]]
src/dotmac/platform/billing/reports/generators.py:888:13: note:     def select(*entities: TypedColumnsClauseRole[Any] | ColumnsClauseRole | SQLCoreOperations[Any] | Literal['*', 1] | type[Any] | Inspectable[_HasClauseElement[Any]] | _HasClauseElement[Any], **Any) -> Select[Any]
src/dotmac/platform/network/schemas.py:13:5: error: Module "pydantic" has no
attribute "field_serializer"  [attr-defined]
        from pydantic import ConfigDict, Field, field_serializer
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/ip_management/schemas.py:11:5: error: Module "pydantic" has
no attribute "field_serializer"  [attr-defined]
        from pydantic import ConfigDict, Field, field_serializer
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/event_handlers.py: note: In function "handle_order_completed_create_project":
src/dotmac/platform/project_management/event_handlers.py:212:31: error:
Incompatible types in assignment (expression has type
"dotmac.platform.project_management.template_models.ProjectTemplate", variable
has type "dotmac.platform.project_management.templates.ProjectTemplate | None") 
[assignment]
                    db_template = templates[0]
                                  ^~~~~~~~~~~~
src/dotmac/platform/project_management/event_handlers.py:214:31: error:
Incompatible types in assignment (expression has type
"dotmac.platform.project_management.template_models.ProjectTemplate | None",
variable has type
"dotmac.platform.project_management.templates.ProjectTemplate | None") 
[assignment]
                    db_template = await template_service.get_template(db_t...
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src/dotmac/platform/project_management/event_handlers.py:214:67: error: Item
"ProjectTemplate" of "ProjectTemplate | None" has no attribute "id" 
[union-attr]
    ...b_template = await template_service.get_template(db_template.id, inclu...
                                                        ^~~~~~~~~~~~~~
src/dotmac/platform/project_management/event_handlers.py:214:67: error: Item
"None" of "ProjectTemplate | None" has no attribute "id"  [union-attr]
    ...b_template = await template_service.get_template(db_template.id, inclu...
                                                        ^~~~~~~~~~~~~~
src/dotmac/platform/project_management/event_handlers.py:218:41: error:
"ProjectTemplate" has no attribute "id"  [attr-defined]
                            template_id=str(db_template.id),
                                            ^~~~~~~~~~~~~~
src/dotmac/platform/project_management/event_handlers.py:219:39: error:
"ProjectTemplate" has no attribute "template_code"  [attr-defined]
                            template_code=db_template.template_code,
                                          ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/event_handlers.py:265:40: error:
"ProjectTemplate" has no attribute "project_name_pattern"  [attr-defined]
                    project_name_pattern = db_template.project_name_patter...
                                           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/event_handlers.py:266:47: error:
"ProjectTemplate" has no attribute "project_description_pattern"; maybe
"description_pattern"?  [attr-defined]
                    project_description_pattern = db_template.project_desc...
                                                  ^~~~~~~~~~~~~~~~~~~~~~~~...
src/dotmac/platform/project_management/event_handlers.py:268:28: error:
"ProjectTemplate" has no attribute "default_priority"  [attr-defined]
                    priority = db_template.default_priority
                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/event_handlers.py:336:51: error:
"ProjectTemplate" has no attribute "template_code"  [attr-defined]
    ...               template_note = f" using template {db_template.template...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
src/dotmac/platform/project_management/event_handlers.py:384:33: error:
"TaskTemplate" has no attribute "depends_on_sequence_orders"; maybe
"depends_on_task_order"?  [attr-defined]
                        t_depends = task_template.depends_on_sequence_orde...
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/event_handlers.py:428:46: error: List
comprehension has incompatible type List[str]; expected List[UUID]  [misc]
                        task.depends_on_tasks = [str(tid) for tid in depen...
                                                 ^~~~~~~~
src/dotmac/platform/orchestration/workflows/provision_subscriber.py: note: In function "allocate_ip_handler":
src/dotmac/platform/orchestration/workflows/provision_subscriber.py:655:37: error:
Value of type "dict[str, Any] | None" is not indexable  [index]
                log_msg += f", IPv6 PD: {ipv6_pd_allocation['prefix']}"
                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/orchestration/workflows/provision_subscriber.py:685:51: error:
Value of type "dict[str, Any] | None" is not indexable  [index]
    ...                   log_extra["ipv6_pd_prefix"] = ipv6_pd_allocation["p...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
src/dotmac/platform/orchestration/workflows/provision_subscriber.py:690:34: error:
Value of type "dict[str, Any] | None" is not indexable  [index]
                        (f", ipv6_pd={ipv6_pd_allocation['prefix']}" if ha...
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:21:1: error:
Module "dotmac.platform.tenant.tenant" has no attribute "get_current_tenant_id" 
[attr-defined]
    from dotmac.platform.tenant.tenant import get_current_tenant_id
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "clock_in":
src/dotmac/platform/project_management/time_resource_router.py:191:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def clock_in(
    ^
src/dotmac/platform/project_management/time_resource_router.py:271:5: error:
Cannot assign to a method  [method-assign]
        time_entry.is_active = time_entry.is_active()
        ^~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:271:28: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
        time_entry.is_active = time_entry.is_active()
                               ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:272:30: error:
Incompatible types in assignment (expression has type "Decimal | None", variable
has type "Column[Decimal]")  [assignment]
        time_entry.total_hours = time_entry.calculate_hours()
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:273:29: error:
Incompatible types in assignment (expression has type "Decimal | None", variable
has type "Column[Decimal]")  [assignment]
        time_entry.total_cost = time_entry.calculate_cost()
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "clock_out":
src/dotmac/platform/project_management/time_resource_router.py:282:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def clock_out(
    ^
src/dotmac/platform/project_management/time_resource_router.py:316:28: error:
Incompatible types in assignment (expression has type "datetime", variable has
type "Column[datetime]")  [assignment]
        time_entry.clock_out = datetime.now()
                               ^~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:317:32: error:
Incompatible types in assignment (expression has type "float | None", variable
has type "Column[Decimal]")  [assignment]
        time_entry.clock_out_lat = clock_out_request.latitude
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:318:32: error:
Incompatible types in assignment (expression has type "float | None", variable
has type "Column[Decimal]")  [assignment]
        time_entry.clock_out_lng = clock_out_request.longitude
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:319:41: error:
Incompatible types in assignment (expression has type "float | None", variable
has type "Column[Decimal]")  [assignment]
        time_entry.break_duration_minutes = clock_out_request.break_durati...
                                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...
src/dotmac/platform/project_management/time_resource_router.py:321:28: error:
Incompatible types in assignment (expression has type "str", variable has type
"Column[str]")  [assignment]
            time_entry.notes = clock_out_request.notes
                               ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:322:29: error:
Incompatible types in assignment (expression has type "Any | None", variable has
type "Column[str]")  [assignment]
        time_entry.updated_by = current_user.get("sub")
                                ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:325:30: error:
Incompatible types in assignment (expression has type "Decimal | None", variable
has type "Column[Decimal]")  [assignment]
        time_entry.total_hours = time_entry.calculate_hours()
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:326:29: error:
Incompatible types in assignment (expression has type "Decimal | None", variable
has type "Column[Decimal]")  [assignment]
        time_entry.total_cost = time_entry.calculate_cost()
                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:331:5: error:
Cannot assign to a method  [method-assign]
        time_entry.is_active = time_entry.is_active()
        ^~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:331:28: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
        time_entry.is_active = time_entry.is_active()
                               ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "list_time_entries":
src/dotmac/platform/project_management/time_resource_router.py:340:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def list_time_entries(
    ^
src/dotmac/platform/project_management/time_resource_router.py:377:9: error:
Cannot assign to a method  [method-assign]
            entry.is_active = entry.is_active()
            ^~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:377:27: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
            entry.is_active = entry.is_active()
                              ^~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:379:33: error:
Incompatible types in assignment (expression has type "Decimal | None", variable
has type "Column[Decimal]")  [assignment]
                entry.total_hours = entry.calculate_hours()
                                    ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:381:32: error:
Incompatible types in assignment (expression has type "Decimal | None", variable
has type "Column[Decimal]")  [assignment]
                entry.total_cost = entry.calculate_cost()
                                   ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "create_equipment":
src/dotmac/platform/project_management/time_resource_router.py:395:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def create_equipment(
    ^
src/dotmac/platform/project_management/time_resource_router.py:414:5: error:
Cannot assign to a method  [method-assign]
        db_equipment.is_available = db_equipment.is_available()
        ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:414:33: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
        db_equipment.is_available = db_equipment.is_available()
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:415:5: error:
Cannot assign to a method  [method-assign]
        db_equipment.needs_maintenance = db_equipment.needs_maintenance()
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:415:38: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
        db_equipment.needs_maintenance = db_equipment.needs_maintenance()
                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "list_equipment":
src/dotmac/platform/project_management/time_resource_router.py:424:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def list_equipment(
    ^
src/dotmac/platform/project_management/time_resource_router.py:455:9: error:
Cannot assign to a method  [method-assign]
            eq.is_available = eq.is_available()
            ^~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:455:27: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
            eq.is_available = eq.is_available()
                              ^~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:456:9: error:
Cannot assign to a method  [method-assign]
            eq.needs_maintenance = eq.needs_maintenance()
            ^~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:456:32: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
            eq.needs_maintenance = eq.needs_maintenance()
                                   ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "create_vehicle":
src/dotmac/platform/project_management/time_resource_router.py:470:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def create_vehicle(
    ^
src/dotmac/platform/project_management/time_resource_router.py:489:5: error:
Cannot assign to a method  [method-assign]
        db_vehicle.is_available = db_vehicle.is_available()
        ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:489:31: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
        db_vehicle.is_available = db_vehicle.is_available()
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:490:5: error:
Cannot assign to a method  [method-assign]
        db_vehicle.needs_service = db_vehicle.needs_service()
        ^~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:490:32: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
        db_vehicle.needs_service = db_vehicle.needs_service()
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "list_vehicles":
src/dotmac/platform/project_management/time_resource_router.py:499:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def list_vehicles(
    ^
src/dotmac/platform/project_management/time_resource_router.py:530:9: error:
Cannot assign to a method  [method-assign]
            v.is_available = v.is_available()
            ^~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:530:26: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
            v.is_available = v.is_available()
                             ^~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:531:9: error:
Cannot assign to a method  [method-assign]
            v.needs_service = v.needs_service()
            ^~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:531:27: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
            v.needs_service = v.needs_service()
                              ^~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "assign_resource":
src/dotmac/platform/project_management/time_resource_router.py:545:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def assign_resource(
    ^
src/dotmac/platform/project_management/time_resource_router.py:595:47: error:
Incompatible types in assignment (expression has type "UUID", variable has type
"Column[UUID]")  [assignment]
            equipment.assigned_to_technician_id = assignment.technician_id
                                                  ^~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:613:45: error:
Incompatible types in assignment (expression has type "UUID", variable has type
"Column[UUID]")  [assignment]
            vehicle.assigned_to_technician_id = assignment.technician_id
                                                ^~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:630:5: error:
Cannot assign to a method  [method-assign]
        db_assignment.is_active = db_assignment.is_active()
        ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:630:31: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
        db_assignment.is_active = db_assignment.is_active()
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "return_resource":
src/dotmac/platform/project_management/time_resource_router.py:639:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def return_resource(
    ^
src/dotmac/platform/project_management/time_resource_router.py:675:30: error:
Incompatible types in assignment (expression has type "datetime", variable has
type "Column[datetime]")  [assignment]
        assignment.returned_at = datetime.now()
                                 ^~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:677:38: error:
Incompatible types in assignment (expression has type "str | None", variable has
type "Column[str]")  [assignment]
        assignment.condition_at_return = condition
                                         ^~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:678:37: error:
Incompatible types in assignment (expression has type "str | None", variable has
type "Column[str]")  [assignment]
        assignment.damage_description = damage_description
                                        ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:679:31: error:
Incompatible types in assignment (expression has type "str | None", variable has
type "Column[str]")  [assignment]
        assignment.return_notes = notes
                                  ^~~~~
src/dotmac/platform/project_management/time_resource_router.py:680:29: error:
Incompatible types in assignment (expression has type "Any | None", variable has
type "Column[str]")  [assignment]
        assignment.updated_by = current_user.get("sub")
                                ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:693:5: error:
Cannot assign to a method  [method-assign]
        assignment.is_active = assignment.is_active()
        ^~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:693:28: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
        assignment.is_active = assignment.is_active()
                               ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py: note: In function "list_resource_assignments":
src/dotmac/platform/project_management/time_resource_router.py:702:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def list_resource_assignments(
    ^
src/dotmac/platform/project_management/time_resource_router.py:728:9: error:
Cannot assign to a method  [method-assign]
            a.is_active = a.is_active()
            ^~~~~~~~~~~
src/dotmac/platform/project_management/time_resource_router.py:728:23: error:
Incompatible types in assignment (expression has type "bool", variable has type
"Callable[[], bool]")  [assignment]
            a.is_active = a.is_active()
                          ^~~~~~~~~~~~~
src/dotmac/platform/project_management/scheduling_router.py:18:1: error: Module
"dotmac.platform.tenant.tenant" has no attribute "get_current_tenant_id" 
[attr-defined]
    from dotmac.platform.tenant.tenant import get_current_tenant_id
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/project_management/scheduling_router.py: note: In function "create_technician_schedule":
src/dotmac/platform/project_management/scheduling_router.py:67:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def create_technician_schedule(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "get_technician_schedules":
src/dotmac/platform/project_management/scheduling_router.py:133:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def get_technician_schedules(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "update_technician_schedule":
src/dotmac/platform/project_management/scheduling_router.py:165:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def update_technician_schedule(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "create_task_assignment":
src/dotmac/platform/project_management/scheduling_router.py:212:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def create_task_assignment(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "auto_assign_task":
src/dotmac/platform/project_management/scheduling_router.py:308:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def auto_assign_task(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "get_assignment_candidates":
src/dotmac/platform/project_management/scheduling_router.py:374:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def get_assignment_candidates(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "list_task_assignments":
src/dotmac/platform/project_management/scheduling_router.py:441:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def list_task_assignments(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "update_task_assignment":
src/dotmac/platform/project_management/scheduling_router.py:478:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def update_task_assignment(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "reschedule_task_assignment":
src/dotmac/platform/project_management/scheduling_router.py:520:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def reschedule_task_assignment(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "cancel_task_assignment":
src/dotmac/platform/project_management/scheduling_router.py:569:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def cancel_task_assignment(
    ^
src/dotmac/platform/project_management/scheduling_router.py: note: In function "check_availability":
src/dotmac/platform/project_management/scheduling_router.py:607:1: error:
Function is missing a return type annotation  [no-untyped-def]
    async def check_availability(
    ^
src/dotmac/platform/billing/reports/router.py: note: In function "get_session_history":
src/dotmac/platform/billing/reports/router.py:381:37: error: Name "timedelta"
is not defined  [name-defined]
                start_date = end_date - timedelta(days=30)
                                        ^~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py: note: In function "list_all_invoices":
src/dotmac/platform/platform_admin/billing_router.py:99:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def list_all_invoices(
    ^
src/dotmac/platform/platform_admin/billing_router.py:99:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def list_all_invoices(
    ^
src/dotmac/platform/platform_admin/billing_router.py:134:41: error:
"type[Invoice]" has no attribute "id"  [attr-defined]
            count_query = select(func.count(Invoice.id))
                                            ^~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:136:51: error: Argument 1
to "and_" has incompatible type "*list[bool]"; expected
"Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"
 [arg-type]
                count_query = count_query.where(and_(*filters))
                                                      ^~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:136:51: error: Argument 1
to "and_" has incompatible type "*list[bool]"; expected
"ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"
 [arg-type]
                count_query = count_query.where(and_(*filters))
                                                      ^~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:142:70: error: Item
"datetime" of "datetime | None" has no attribute "desc"  [union-attr]
    ...ct(Invoice).limit(limit).offset(offset).order_by(Invoice.created_at.de...
                                                        ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:142:70: error: Item "None"
of "datetime | None" has no attribute "desc"  [union-attr]
    ...ct(Invoice).limit(limit).offset(offset).order_by(Invoice.created_at.de...
                                                        ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:145:39: error: Argument 1
to "and_" has incompatible type "*list[bool]"; expected
"Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"
 [arg-type]
                query = query.where(and_(*filters))
                                          ^~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:145:39: error: Argument 1
to "and_" has incompatible type "*list[bool]"; expected
"ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"
 [arg-type]
                query = query.where(and_(*filters))
                                          ^~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:154:23: error: "Invoice"
has no attribute "id"  [attr-defined]
                    "id": invoice.id,
                          ^~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:158:27: error: "Invoice"
has no attribute "amount_due"; maybe "net_amount_due"?  [attr-defined]
                    "amount": invoice.amount_due,
                              ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:159:32: error: "Invoice"
has no attribute "amount_paid"  [attr-defined]
                    "amount_paid": invoice.amount_paid or 0,
                                   ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:160:37: error: "Invoice"
has no attribute "amount_remaining"  [attr-defined]
                    "amount_remaining": invoice.amount_remaining or invoic...
                                        ^~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:160:65: error: "Invoice"
has no attribute "amount_due"; maybe "net_amount_due"?  [attr-defined]
    ...   "amount_remaining": invoice.amount_remaining or invoice.amount_due,
                                                          ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:163:31: error: Item "None"
of "datetime | None" has no attribute "isoformat"  [union-attr]
                    "created_at": invoice.created_at.isoformat(),
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:172:17: error: No overload
variant of "select" matches argument types "str", "str", "Label[int]",
"Label[Any]", "Label[Any]"  [call-overload]
                    select(
                    ^
src/dotmac/platform/platform_admin/billing_router.py:172:17: note: Possible overload variants:
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], /) -> Select[tuple[_T0]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any, _T1: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], /) -> Select[tuple[_T0, _T1]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any, _T1: Any, _T2: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], /) -> Select[tuple[_T0, _T1, _T2]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], /) -> Select[tuple[_T0, _T1, _T2, _T3]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any, _T9: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], TypedColumnsClauseRole[_T9] | SQLCoreOperations[_T9] | type[_T9], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8, _T9]]
src/dotmac/platform/platform_admin/billing_router.py:172:17: note:     def select(*entities: TypedColumnsClauseRole[Any] | ColumnsClauseRole | SQLCoreOperations[Any] | Literal['*', 1] | type[Any] | Inspectable[_HasClauseElement[Any]] | _HasClauseElement[Any], **Any) -> Select[Any]
src/dotmac/platform/platform_admin/billing_router.py:175:32: error:
"type[Invoice]" has no attribute "id"  [attr-defined]
                        func.count(Invoice.id).label("count"),
                                   ^~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:176:30: error:
"type[Invoice]" has no attribute "amount_due"  [attr-defined]
                        func.sum(Invoice.amount_due).label("total_amount")...
                                 ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:177:30: error:
"type[Invoice]" has no attribute "amount_paid"  [attr-defined]
                        func.sum(Invoice.amount_paid).label("total_paid"),
                                 ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:214:36: error:
"type[InvoiceStatus]" has no attribute "UNCOLLECTIBLE"  [attr-defined]
                    elif row.status == InvoiceStatus.UNCOLLECTIBLE:
                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:236:25: error: Item
"InvoiceStatus" of "InvoiceStatus | None" has no attribute
"HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
                status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:236:25: error: Item "None"
of "InvoiceStatus | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR" 
[union-attr]
                status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py: note: In function "list_all_payments":
src/dotmac/platform/platform_admin/billing_router.py:247:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def list_all_payments(
    ^
src/dotmac/platform/platform_admin/billing_router.py:247:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def list_all_payments(
    ^
src/dotmac/platform/platform_admin/billing_router.py:272:41: error:
"type[Payment]" has no attribute "id"  [attr-defined]
            count_query = select(func.count(Payment.id))
                                            ^~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:274:51: error: Argument 1
to "and_" has incompatible type "*list[bool]"; expected
"Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"
 [arg-type]
                count_query = count_query.where(and_(*filters))
                                                      ^~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:274:51: error: Argument 1
to "and_" has incompatible type "*list[bool]"; expected
"ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"
 [arg-type]
                count_query = count_query.where(and_(*filters))
                                                      ^~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:280:70: error: "datetime"
has no attribute "desc"  [attr-defined]
    ...ct(Payment).limit(limit).offset(offset).order_by(Payment.created_at.de...
                                                        ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:283:39: error: Argument 1
to "and_" has incompatible type "*list[bool]"; expected
"Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"
 [arg-type]
                query = query.where(and_(*filters))
                                          ^~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:283:39: error: Argument 1
to "and_" has incompatible type "*list[bool]"; expected
"ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"
 [arg-type]
                query = query.where(and_(*filters))
                                          ^~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:292:23: error: "Payment"
has no attribute "id"  [attr-defined]
                    "id": payment.id,
                          ^~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:294:31: error: "Payment"
has no attribute "invoice_id"; maybe "invoice_ids"?  [attr-defined]
                    "invoice_id": payment.invoice_id,
                                  ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:312:25: error: Item
"PaymentStatus" of "PaymentStatus | None" has no attribute
"HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
                status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:312:25: error: Item "None"
of "PaymentStatus | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR" 
[union-attr]
                status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py: note: In function "get_platform_billing_summary":
src/dotmac/platform/platform_admin/billing_router.py:323:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_platform_billing_summary(
    ^
src/dotmac/platform/platform_admin/billing_router.py:323:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def get_platform_billing_summary(
    ^
src/dotmac/platform/platform_admin/billing_router.py:345:49: error:
"type[Invoice]" has no attribute "id"  [attr-defined]
            invoice_count_query = select(func.count(Invoice.id))
                                                    ^~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:350:49: error:
"type[Payment]" has no attribute "id"  [attr-defined]
            payment_count_query = select(func.count(Payment.id))
                                                    ^~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:356:22: error:
"type[Invoice]" has no attribute "amount_paid"  [attr-defined]
                func.sum(Invoice.amount_paid).label("total_revenue"),
                         ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:357:22: error:
"type[Invoice]" has no attribute "amount_remaining"  [attr-defined]
                func.sum(Invoice.amount_remaining).label("total_outstandin...
                         ^~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:367:13: error: No overload
variant of "select" matches argument types "str", "Label[int]"  [call-overload]
                select(Invoice.status, func.count(Invoice.id).label("count...
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:367:13: note: Possible overload variants:
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], /) -> Select[tuple[_T0]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any, _T1: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], /) -> Select[tuple[_T0, _T1]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any, _T1: Any, _T2: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], /) -> Select[tuple[_T0, _T1, _T2]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], /) -> Select[tuple[_T0, _T1, _T2, _T3]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any, _T9: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], TypedColumnsClauseRole[_T9] | SQLCoreOperations[_T9] | type[_T9], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8, _T9]]
src/dotmac/platform/platform_admin/billing_router.py:367:13: note:     def select(*entities: TypedColumnsClauseRole[Any] | ColumnsClauseRole | SQLCoreOperations[Any] | Literal['*', 1] | type[Any] | Inspectable[_HasClauseElement[Any]] | _HasClauseElement[Any], **Any) -> Select[Any]
src/dotmac/platform/platform_admin/billing_router.py:367:47: error:
"type[Invoice]" has no attribute "id"  [attr-defined]
                select(Invoice.status, func.count(Invoice.id).label("count...
                                                  ^~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:375:13: error: No overload
variant of "select" matches argument types "str", "str", "Label[int]",
"Label[Any]", "Label[Any]"  [call-overload]
                select(
                ^
src/dotmac/platform/platform_admin/billing_router.py:375:13: note: Possible overload variants:
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], /) -> Select[tuple[_T0]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any, _T1: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], /) -> Select[tuple[_T0, _T1]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any, _T1: Any, _T2: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], /) -> Select[tuple[_T0, _T1, _T2]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], /) -> Select[tuple[_T0, _T1, _T2, _T3]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def [_T0: Any, _T1: Any, _T2: Any, _T3: Any, _T4: Any, _T5: Any, _T6: Any, _T7: Any, _T8: Any, _T9: Any] select(TypedColumnsClauseRole[_T0] | SQLCoreOperations[_T0] | type[_T0], TypedColumnsClauseRole[_T1] | SQLCoreOperations[_T1] | type[_T1], TypedColumnsClauseRole[_T2] | SQLCoreOperations[_T2] | type[_T2], TypedColumnsClauseRole[_T3] | SQLCoreOperations[_T3] | type[_T3], TypedColumnsClauseRole[_T4] | SQLCoreOperations[_T4] | type[_T4], TypedColumnsClauseRole[_T5] | SQLCoreOperations[_T5] | type[_T5], TypedColumnsClauseRole[_T6] | SQLCoreOperations[_T6] | type[_T6], TypedColumnsClauseRole[_T7] | SQLCoreOperations[_T7] | type[_T7], TypedColumnsClauseRole[_T8] | SQLCoreOperations[_T8] | type[_T8], TypedColumnsClauseRole[_T9] | SQLCoreOperations[_T9] | type[_T9], /) -> Select[tuple[_T0, _T1, _T2, _T3, _T4, _T5, _T6, _T7, _T8, _T9]]
src/dotmac/platform/platform_admin/billing_router.py:375:13: note:     def select(*entities: TypedColumnsClauseRole[Any] | ColumnsClauseRole | SQLCoreOperations[Any] | Literal['*', 1] | type[Any] | Inspectable[_HasClauseElement[Any]] | _HasClauseElement[Any], **Any) -> Select[Any]
src/dotmac/platform/platform_admin/billing_router.py:378:28: error:
"type[Invoice]" has no attribute "id"  [attr-defined]
                    func.count(Invoice.id).label("count"),
                               ^~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:379:26: error:
"type[Invoice]" has no attribute "amount_due"  [attr-defined]
                    func.sum(Invoice.amount_due).label("total_amount"),
                             ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:380:26: error:
"type[Invoice]" has no attribute "amount_paid"  [attr-defined]
                    func.sum(Invoice.amount_paid).label("total_paid"),
                             ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/billing_router.py:416:32: error:
"type[InvoiceStatus]" has no attribute "UNCOLLECTIBLE"  [attr-defined]
                elif row.status == InvoiceStatus.UNCOLLECTIBLE:
                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/audit_router.py:19:1: error: Module
"dotmac.platform.audit.models" has no attribute "AuditLog"  [attr-defined]
    from dotmac.platform.audit.models import AuditLog
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/audit_router.py: note: In function "list_all_audit_logs":
src/dotmac/platform/platform_admin/audit_router.py:88:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def list_all_audit_logs(
    ^
src/dotmac/platform/platform_admin/audit_router.py:88:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def list_all_audit_logs(
    ^
src/dotmac/platform/platform_admin/audit_router.py:205:25: error: Item "str" of
"str | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
                status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/audit_router.py:205:25: error: Item "None"
of "str | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
                status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/audit_router.py: note: In function "get_audit_summary_by_tenant":
src/dotmac/platform/platform_admin/audit_router.py:216:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_audit_summary_by_tenant(
    ^
src/dotmac/platform/platform_admin/audit_router.py:216:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def get_audit_summary_by_tenant(
    ^
src/dotmac/platform/platform_admin/audit_router.py: note: In function "get_action_counts":
src/dotmac/platform/platform_admin/audit_router.py:311:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_action_counts(
    ^
src/dotmac/platform/platform_admin/audit_router.py:311:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def get_action_counts(
    ^
src/dotmac/platform/geo/router.py: note: In function "geocode_address":
src/dotmac/platform/geo/router.py:83:1: error: Function is missing a return
type annotation  [no-untyped-def]
    async def geocode_address(
    ^
src/dotmac/platform/geo/router.py: note: In function "reverse_geocode":
src/dotmac/platform/geo/router.py:121:1: error: Function is missing a return
type annotation  [no-untyped-def]
    async def reverse_geocode(
    ^
src/dotmac/platform/geo/router.py: note: In function "calculate_route":
src/dotmac/platform/geo/router.py:151:1: error: Function is missing a return
type annotation  [no-untyped-def]
    async def calculate_route(
    ^
src/dotmac/platform/geo/router.py: note: In function "get_route_summary":
src/dotmac/platform/geo/router.py:236:1: error: Function is missing a return
type annotation  [no-untyped-def]
    async def get_route_summary(
    ^
src/dotmac/platform/geo/router.py: note: In function "route_to_fiber_asset":
src/dotmac/platform/geo/router.py:280:1: error: Function is missing a return
type annotation  [no-untyped-def]
    async def route_to_fiber_asset(
    ^
src/dotmac/platform/radius/router.py: note: In function "get_subscriber_alerts":
src/dotmac/platform/radius/router.py:1014:17: error: Name "Radpostauth" is not
defined  [name-defined]
                    Radpostauth.username == subscriber.username,
                    ^~~~~~~~~~~
src/dotmac/platform/radius/router.py:1015:17: error: Name "Radpostauth" is not
defined  [name-defined]
                    Radpostauth.reply == "Access-Reject",
                    ^~~~~~~~~~~
src/dotmac/platform/radius/router.py:1016:17: error: Name "Radpostauth" is not
defined  [name-defined]
                    Radpostauth.authdate >= seven_days_ago,
                    ^~~~~~~~~~~
src/dotmac/platform/tenant/branding_router.py: note: In function "get_tenant_branding":
src/dotmac/platform/tenant/branding_router.py:79:46: error: Argument 1 to
"get_tenant_branding" of "TenantService" has incompatible type "str | None";
expected "str"  [arg-type]
        return await service.get_tenant_branding(current_user.tenant_id)
                                                 ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/tenant/branding_router.py: note: In function "update_tenant_branding":
src/dotmac/platform/tenant/branding_router.py:89:49: error: Argument 1 to
"update_tenant_branding" of "TenantService" has incompatible type "str | None";
expected "str"  [arg-type]
        return await service.update_tenant_branding(current_user.tenant_id...
                                                    ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/analytics_router.py: note: In function "get_platform_analytics_summary":
src/dotmac/platform/platform_admin/analytics_router.py:93:1: error: Function is
missing a return type annotation  [no-untyped-def]
    async def get_platform_analytics_summary(
    ^
src/dotmac/platform/platform_admin/analytics_router.py:93:1: error: Function is
missing a type annotation for one or more arguments  [no-untyped-def]
    async def get_platform_analytics_summary(
    ^
src/dotmac/platform/platform_admin/analytics_router.py: note: In function "get_tenant_activity_summary":
src/dotmac/platform/platform_admin/analytics_router.py:165:1: error: Function
is missing a return type annotation  [no-untyped-def]
    async def get_tenant_activity_summary(
    ^
src/dotmac/platform/platform_admin/analytics_router.py:165:1: error: Function
is missing a type annotation for one or more arguments  [no-untyped-def]
    async def get_tenant_activity_summary(
    ^
src/dotmac/platform/platform_admin/analytics_router.py:232:25: error: "str" has
no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [attr-defined]
                status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/platform_admin/analytics_router.py: note: In function "aggregate_metric_across_tenants":
src/dotmac/platform/platform_admin/analytics_router.py:243:1: error: Function
is missing a return type annotation  [no-untyped-def]
    async def aggregate_metric_across_tenants(
    ^
src/dotmac/platform/platform_admin/analytics_router.py:243:1: error: Function
is missing a type annotation for one or more arguments  [no-untyped-def]
    async def aggregate_metric_across_tenants(
    ^
src/dotmac/platform/partner_management/partner_multitenant_router.py: note: In function "list_managed_tenants":
src/dotmac/platform/partner_management/partner_multitenant_router.py:67:25: error:
Item "str" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py:67:25: error:
Item "None" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py: note: In function "get_consolidated_billing_summary":
src/dotmac/platform/partner_management/partner_multitenant_router.py:269:25: error:
Item "str" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py:269:25: error:
Item "None" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py: note: In function "list_invoices":
src/dotmac/platform/partner_management/partner_multitenant_router.py:319:25: error:
Item "str" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py:319:25: error:
Item "None" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py:326:25: error:
Item "str" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py:326:25: error:
Item "None" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py: note: In function "list_tickets":
src/dotmac/platform/partner_management/partner_multitenant_router.py:431:25: error:
Item "str" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py:431:25: error:
Item "None" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py:438:25: error:
Item "str" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/partner_management/partner_multitenant_router.py:438:25: error:
Item "None" of "str | None" has no attribute "HTTP_403_FORBIDDEN"  [union-attr]
                status_code=status.HTTP_403_FORBIDDEN,
                            ^~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "list_notifications":
src/dotmac/platform/notifications/router.py:57:19: error: Argument "tenant_id"
to "get_user_notifications" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
            tenant_id=current_user.tenant_id,
                      ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py:66:61: error: Argument "tenant_id"
to "get_unread_count" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
    ...count = await service.get_unread_count(tenant_id=current_user.tenant_i...
                                                        ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "get_unread_count":
src/dotmac/platform/notifications/router.py:84:19: error: Argument "tenant_id"
to "get_unread_count" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
            tenant_id=current_user.tenant_id, user_id=ensure_uuid(current_...
                      ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "create_notification":
src/dotmac/platform/notifications/router.py:107:23: error: Argument "tenant_id"
to "create_notification" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
                tenant_id=current_user.tenant_id,
                          ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "create_notification_from_template":
src/dotmac/platform/notifications/router.py:147:23: error: Argument "tenant_id"
to "create_from_template" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
                tenant_id=current_user.tenant_id,
                          ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "mark_notification_as_read":
src/dotmac/platform/notifications/router.py:175:23: error: Argument "tenant_id"
to "mark_as_read" of "NotificationService" has incompatible type "str | None";
expected "str"  [arg-type]
                tenant_id=current_user.tenant_id,
                          ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "mark_all_as_read":
src/dotmac/platform/notifications/router.py:197:23: error: Argument "tenant_id"
to "mark_all_as_read" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
                tenant_id=current_user.tenant_id, user_id=ensure_uuid(curr...
                          ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "archive_notification":
src/dotmac/platform/notifications/router.py:218:23: error: Argument "tenant_id"
to "archive_notification" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
                tenant_id=current_user.tenant_id,
                          ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "get_notification_preferences":
src/dotmac/platform/notifications/router.py:240:19: error: Argument "tenant_id"
to "get_user_preferences" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
            tenant_id=current_user.tenant_id, user_id=ensure_uuid(current_...
                      ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "update_notification_preferences":
src/dotmac/platform/notifications/router.py:266:23: error: Argument "tenant_id"
to "update_user_preferences" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
                tenant_id=current_user.tenant_id,
                          ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py: note: In function "get_notification_stats":
src/dotmac/platform/notifications/router.py:306:19: error: Argument "tenant_id"
to "get_user_notifications" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
            tenant_id=current_user.tenant_id,
                      ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/notifications/router.py:314:19: error: Argument "tenant_id"
to "get_unread_count" of "NotificationService" has incompatible type
"str | None"; expected "str"  [arg-type]
            tenant_id=current_user.tenant_id, user_id=user_uuid
                      ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/tenant/router.py: note: In function "_build_tenant_response":
src/dotmac/platform/tenant/router.py:108:5: error: Property "is_trial" defined
in "Tenant" is read-only  [misc]
        response.is_trial = getattr(tenant, "is_trial", response.is_trial)
        ^~~~~~~~~~~~~~~~~
src/dotmac/platform/tenant/router.py:110:5: error: Property "trial_expired"
defined in "Tenant" is read-only  [misc]
        response.trial_expired = getattr(tenant, "trial_expired", response...
        ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/tenant/router.py:111:5: error: Property
"has_exceeded_user_limit" defined in "Tenant" is read-only  [misc]
        response.has_exceeded_user_limit = getattr(
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/tenant/router.py:114:5: error: Property
"has_exceeded_api_limit" defined in "Tenant" is read-only  [misc]
        response.has_exceeded_api_limit = getattr(
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/tenant/router.py:117:5: error: Property
"has_exceeded_storage_limit" defined in "Tenant" is read-only  [misc]
        response.has_exceeded_storage_limit = getattr(
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/tenant/router.py: note: At top level:
src/dotmac/platform/tenant/router.py:184:1: error: Name
"_build_tenant_response" already defined on line 97  [no-redef]
    def _build_tenant_response(
    ^
src/dotmac/platform/field_service/router.py: note: In function "list_technicians":
src/dotmac/platform/field_service/router.py:36:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def list_technicians(
    ^
src/dotmac/platform/field_service/router.py:82:22: error:
"type[TechnicianResponse]" has no attribute "from_orm"  [attr-defined]
            technicians=[TechnicianResponse.from_orm(t) for t in technicia...
                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/field_service/router.py: note: In function "get_technician":
src/dotmac/platform/field_service/router.py:90:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def get_technician(
    ^
src/dotmac/platform/field_service/router.py:114:12: error:
"type[TechnicianResponse]" has no attribute "from_orm"  [attr-defined]
        return TechnicianResponse.from_orm(technician)
               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/field_service/router.py: note: In function "update_technician_location":
src/dotmac/platform/field_service/router.py:118:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def update_technician_location(
    ^
src/dotmac/platform/field_service/router.py:179:16: error: Argument "job_id" to
"check_geofence" of "GeofencingService" has incompatible type "str | None";
expected "UUID | None"  [arg-type]
            job_id=location_data.job_id if location_data.job_id else None,
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/field_service/router.py: note: In function "get_active_technician_locations":
src/dotmac/platform/field_service/router.py:237:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def get_active_technician_locations(
    ^
src/dotmac/platform/field_service/router.py: note: In function "get_technician_location_history":
src/dotmac/platform/field_service/router.py:279:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def get_technician_location_history(
    ^
src/dotmac/platform/field_service/router.py: note: In function "websocket_technician_locations":
src/dotmac/platform/field_service/router.py:351:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def websocket_technician_locations(
    ^
src/dotmac/platform/field_service/router.py:385:5: error: Module
"dotmac.platform.auth.token_with_rbac" has no attribute "decode_token" 
[attr-defined]
        from dotmac.platform.auth.token_with_rbac import decode_token
        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/field_service/router.py: note: In function "get_nearby_jobs":
src/dotmac/platform/field_service/router.py:472:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def get_nearby_jobs(
    ^
src/dotmac/platform/field_service/router.py:533:27: error: "str" has no
attribute "value"  [attr-defined]
                    "status": job.status.value,
                              ^~~~~~~~~~~~~~~~
src/dotmac/platform/field_service/router.py: note: In function "get_job_time_on_site":
src/dotmac/platform/field_service/router.py:547:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def get_job_time_on_site(
    ^
src/dotmac/platform/field_service/router.py: note: In function "get_websocket_analytics":
src/dotmac/platform/field_service/router.py:586:1: error: Function is missing a
return type annotation  [no-untyped-def]
    async def get_websocket_analytics(
    ^
src/dotmac/platform/graphql/queries/network_profile.py: note: In member "upsert_network_profile" of class "NetworkProfileMutations":
src/dotmac/platform/graphql/queries/network_profile.py:257:41: error: Argument
1 to "_to_network_profile_type" has incompatible type "NetworkProfileResponse";
expected "SubscriberNetworkProfile"  [arg-type]
            return _to_network_profile_type(db_profile)
                                            ^~~~~~~~~~
src/dotmac/platform/graphql/queries/ip_management.py: note: In member "tenant_ip_stats" of class "IPManagementQueries":
src/dotmac/platform/graphql/queries/ip_management.py:357:49: error:
"type[IPPoolType]" has no attribute "PUBLIC_STATIC"  [attr-defined]
                        (IPPoolModel.pool_type.in_([IPPoolType.PUBLIC_STAT...
                                                    ^~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/ip_management.py:357:75: error:
"type[IPPoolType]" has no attribute "PRIVATE_STATIC"  [attr-defined]
    ...olModel.pool_type.in_([IPPoolType.PUBLIC_STATIC, IPPoolType.PRIVATE_ST...
                                                        ^~~~~~~~~~~~~~~~~~~~~...
src/dotmac/platform/graphql/queries/ip_management.py: note: In member "reserve_ip" of class "IPManagementMutations":
src/dotmac/platform/graphql/queries/ip_management.py:522:22: error: "Context"
has no attribute "user"  [attr-defined]
            user_email = context.user.email if context.user else "unknown"
                         ^~~~~~~~~~~~
src/dotmac/platform/graphql/queries/ip_management.py: note: In member "auto_assign_ip" of class "IPManagementMutations":
src/dotmac/platform/graphql/queries/ip_management.py:580:22: error: "Context"
has no attribute "user"  [attr-defined]
            user_email = context.user.email if context.user else "unknown"
                         ^~~~~~~~~~~~
src/dotmac/platform/graphql/queries/ip_management.py: note: In member "release_ip" of class "IPManagementMutations":
src/dotmac/platform/graphql/queries/ip_management.py:628:22: error: "Context"
has no attribute "user"  [attr-defined]
            user_email = context.user.email if context.user else "unknown"
                         ^~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py: note: In member "_map_time_entry" of class "FieldServiceQueries":
src/dotmac/platform/graphql/queries/field_service.py:671:23: error: Argument
"tenant_id" to "TimeEntryType" has incompatible type "Column[str]"; expected
"str"  [arg-type]
                tenant_id=entry.tenant_id,
                          ^~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:676:22: error: Argument
"clock_in" to "TimeEntryType" has incompatible type "Column[datetime]"; expected
"datetime"  [arg-type]
                clock_in=entry.clock_in,
                         ^~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:677:23: error: Argument
"clock_out" to "TimeEntryType" has incompatible type "Column[datetime]";
expected "datetime | None"  [arg-type]
                clock_out=entry.clock_out,
                          ^~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:678:36: error: Argument
"break_duration_minutes" to "TimeEntryType" has incompatible type
"Column[Decimal] | int"; expected "Decimal"  [arg-type]
                break_duration_minutes=entry.break_duration_minutes or 0,
                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:681:26: error: Argument
"clock_in_lat" to "TimeEntryType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                clock_in_lat=entry.clock_in_lat,
                             ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:682:26: error: Argument
"clock_in_lng" to "TimeEntryType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                clock_in_lng=entry.clock_in_lng,
                             ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:683:27: error: Argument
"clock_out_lat" to "TimeEntryType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                clock_out_lat=entry.clock_out_lat,
                              ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:684:27: error: Argument
"clock_out_lng" to "TimeEntryType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                clock_out_lng=entry.clock_out_lng,
                              ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:686:25: error: Argument
"hourly_rate" to "TimeEntryType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                hourly_rate=entry.hourly_rate,
                            ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:687:25: error: Argument
"total_hours" to "TimeEntryType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                total_hours=entry.total_hours,
                            ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:688:24: error: Argument
"total_cost" to "TimeEntryType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                total_cost=entry.total_cost,
                           ^~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:689:26: error: Argument
"submitted_at" to "TimeEntryType" has incompatible type "Column[datetime]";
expected "datetime | None"  [arg-type]
                submitted_at=entry.submitted_at,
                             ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:690:25: error: Argument
"approved_at" to "TimeEntryType" has incompatible type "Column[datetime]";
expected "datetime | None"  [arg-type]
                approved_at=entry.approved_at,
                            ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:691:25: error: Argument
"approved_by" to "TimeEntryType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                approved_by=entry.approved_by,
                            ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:692:25: error: Argument
"rejected_at" to "TimeEntryType" has incompatible type "Column[datetime]";
expected "datetime | None"  [arg-type]
                rejected_at=entry.rejected_at,
                            ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:693:25: error: Argument
"rejected_by" to "TimeEntryType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                rejected_by=entry.rejected_by,
                            ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:694:30: error: Argument
"rejection_reason" to "TimeEntryType" has incompatible type "Column[str]";
expected "str | None"  [arg-type]
                rejection_reason=entry.rejection_reason,
                                 ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:695:25: error: Argument
"description" to "TimeEntryType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                description=entry.description,
                            ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:696:19: error: Argument
"notes" to "TimeEntryType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                notes=entry.notes,
                      ^~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:697:24: error: Argument
"created_at" to "TimeEntryType" has incompatible type "Column[datetime]";
expected "datetime"  [arg-type]
                created_at=entry.created_at,
                           ^~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py: note: In member "_map_labor_rate" of class "FieldServiceQueries":
src/dotmac/platform/graphql/queries/field_service.py:704:23: error: Argument
"tenant_id" to "LaborRateType" has incompatible type "Column[str]"; expected
"str"  [arg-type]
                tenant_id=rate.tenant_id,
                          ^~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:705:18: error: Argument
"name" to "LaborRateType" has incompatible type "Column[str]"; expected "str" 
[arg-type]
                name=rate.name,
                     ^~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:706:25: error: Argument
"description" to "LaborRateType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                description=rate.description,
                            ^~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:708:18: error: Argument
"role" to "LaborRateType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                role=rate.role,
                     ^~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:709:26: error: Argument
"regular_rate" to "LaborRateType" has incompatible type "Column[Decimal]";
expected "Decimal"  [arg-type]
                regular_rate=rate.regular_rate,
                             ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:710:27: error: Argument
"overtime_rate" to "LaborRateType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                overtime_rate=rate.overtime_rate,
                              ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:711:26: error: Argument
"weekend_rate" to "LaborRateType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                weekend_rate=rate.weekend_rate,
                             ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:712:26: error: Argument
"holiday_rate" to "LaborRateType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                holiday_rate=rate.holiday_rate,
                             ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:713:24: error: Argument
"night_rate" to "LaborRateType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                night_rate=rate.night_rate,
                           ^~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:714:28: error: Argument
"effective_from" to "LaborRateType" has incompatible type "Column[datetime]";
expected "datetime"  [arg-type]
                effective_from=rate.effective_from,
                               ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:715:26: error: Argument
"effective_to" to "LaborRateType" has incompatible type "Column[datetime]";
expected "datetime | None"  [arg-type]
                effective_to=rate.effective_to,
                             ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:716:23: error: Argument
"is_active" to "LaborRateType" has incompatible type "Column[bool]"; expected
"bool"  [arg-type]
                is_active=rate.is_active,
                          ^~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:717:22: error: Argument
"currency" to "LaborRateType" has incompatible type "Column[str]"; expected
"str"  [arg-type]
                currency=rate.currency,
                         ^~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:718:24: error: Argument
"created_at" to "LaborRateType" has incompatible type "Column[datetime]";
expected "datetime"  [arg-type]
                created_at=rate.created_at,
                           ^~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py: note: In member "_map_equipment" of class "FieldServiceQueries":
src/dotmac/platform/graphql/queries/field_service.py:725:23: error: Argument
"tenant_id" to "EquipmentType" has incompatible type "Column[str]"; expected
"str"  [arg-type]
                tenant_id=equipment.tenant_id,
                          ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:726:18: error: Argument
"name" to "EquipmentType" has incompatible type "Column[str]"; expected "str" 
[arg-type]
                name=equipment.name,
                     ^~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:727:22: error: Argument
"category" to "EquipmentType" has incompatible type "Column[str]"; expected
"str"  [arg-type]
                category=equipment.category,
                         ^~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:728:28: error: Argument
"equipment_type" to "EquipmentType" has incompatible type "Column[str]";
expected "str"  [arg-type]
                equipment_type=equipment.equipment_type,
                               ^~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:729:27: error: Argument
"serial_number" to "EquipmentType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                serial_number=equipment.serial_number,
                              ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:730:23: error: Argument
"asset_tag" to "EquipmentType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                asset_tag=equipment.asset_tag,
                          ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:731:21: error: Argument
"barcode" to "EquipmentType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                barcode=equipment.barcode,
                        ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:732:26: error: Argument
"manufacturer" to "EquipmentType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                manufacturer=equipment.manufacturer,
                             ^~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:733:19: error: Argument
"model" to "EquipmentType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                model=equipment.model,
                      ^~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:735:23: error: Argument
"condition" to "EquipmentType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                condition=equipment.condition,
                          ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:736:30: error: Argument
"current_location" to "EquipmentType" has incompatible type "Column[str]";
expected "str | None"  [arg-type]
                current_location=equipment.current_location,
                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:737:27: error: Argument
"home_location" to "EquipmentType" has incompatible type "Column[str]"; expected
"str | None"  [arg-type]
                home_location=equipment.home_location,
                              ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:739:27: error: Argument
"purchase_date" to "EquipmentType" has incompatible type "Column[date]";
expected "date | None"  [arg-type]
                purchase_date=equipment.purchase_date,
                              ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:740:27: error: Argument
"purchase_cost" to "EquipmentType" has incompatible type "Column[Decimal]";
expected "Decimal | None"  [arg-type]
                purchase_cost=equipment.purchase_cost,
                              ^~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:741:34: error: Argument
"next_maintenance_due" to "EquipmentType" has incompatible type "Column[date]";
expected "date | None"  [arg-type]
                next_maintenance_due=equipment.next_maintenance_due,
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:742:34: error: Argument
"requires_calibration" to "EquipmentType" has incompatible type "Column[bool]";
expected "bool"  [arg-type]
                requires_calibration=equipment.requires_calibration,
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:743:34: error: Argument
"next_calibration_due" to "EquipmentType" has incompatible type "Column[date]";
expected "date | None"  [arg-type]
                next_calibration_due=equipment.next_calibration_due,
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:744:23: error: Argument
"is_rental" to "EquipmentType" has incompatible type "Column[bool]"; expected
"bool"  [arg-type]
                is_rental=equipment.is_rental,
                          ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:745:33: error: Argument
"rental_cost_per_day" to "EquipmentType" has incompatible type
"Column[Decimal]"; expected "Decimal | None"  [arg-type]
                rental_cost_per_day=equipment.rental_cost_per_day,
                                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:746:23: error: Argument
"is_active" to "EquipmentType" has incompatible type "Column[bool]"; expected
"bool"  [arg-type]
                is_active=equipment.is_active,
                          ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:747:24: error: Argument
"created_at" to "EquipmentType" has incompatible type "Column[datetime]";
expected "datetime"  [arg-type]
                created_at=equipment.created_at,
                           ^~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py: note: In member "_map_vehicle" of class "FieldServiceQueries":
src/dotmac/platform/graphql/queries/field_service.py:754:23: error: Argument
"tenant_id" to "VehicleType" has incompatible type "Column[str]"; expected "str"
 [arg-type]
                tenant_id=vehicle.tenant_id,
                          ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:755:18: error: Argument
"name" to "VehicleType" has incompatible type "Column[str]"; expected "str" 
[arg-type]
                name=vehicle.name,
                     ^~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:756:26: error: Argument
"vehicle_type" to "VehicleType" has incompatible type "Column[str]"; expected
"str"  [arg-type]
                vehicle_type=vehicle.vehicle_type,
                             ^~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:757:18: error: Argument
"make" to "VehicleType" has incompatible type "Column[str]"; expected "str" 
[arg-type]
                make=vehicle.make,
                     ^~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:758:19: error: Argument
"model" to "VehicleType" has incompatible type "Column[str]"; expected "str" 
[arg-type]
                model=vehicle.model,
                      ^~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:759:18: error: Argument
"year" to "VehicleType" has incompatible type "Column[int]"; expected
"int | None"  [arg-type]
                year=vehicle.year,
                     ^~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:760:27: error: Argument
"license_plate" to "VehicleType" has incompatible type "Column[str]"; expected
"str"  [arg-type]
                license_plate=vehicle.license_plate,
                              ^~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:762:30: error: Argument
"odometer_reading" to "VehicleType" has incompatible type "Column[int]";
expected "int | None"  [arg-type]
                odometer_reading=vehicle.odometer_reading,
                                 ^~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:764:25: error: Argument
"current_lat" to "VehicleType" has incompatible type "Column[Decimal]"; expected
"Decimal | None"  [arg-type]
                current_lat=vehicle.current_lat,
                            ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:765:25: error: Argument
"current_lng" to "VehicleType" has incompatible type "Column[Decimal]"; expected
"Decimal | None"  [arg-type]
                current_lng=vehicle.current_lng,
                            ^~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:766:34: error: Argument
"last_location_update" to "VehicleType" has incompatible type
"Column[datetime]"; expected "datetime | None"  [arg-type]
                last_location_update=vehicle.last_location_update,
                                     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:767:30: error: Argument
"next_service_due" to "VehicleType" has incompatible type "Column[date]";
expected "date | None"  [arg-type]
                next_service_due=vehicle.next_service_due,
                                 ^~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:768:35: error: Argument
"next_service_odometer" to "VehicleType" has incompatible type "Column[int]";
expected "int | None"  [arg-type]
                next_service_odometer=vehicle.next_service_odometer,
                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:769:23: error: Argument
"is_active" to "VehicleType" has incompatible type "Column[bool]"; expected
"bool"  [arg-type]
                is_active=vehicle.is_active,
                          ^~~~~~~~~~~~~~~~~
src/dotmac/platform/graphql/queries/field_service.py:770:24: error: Argument
"created_at" to "VehicleType" has incompatible type "Column[datetime]"; expected
"datetime"  [arg-type]
                created_at=vehicle.created_at,
                           ^~~~~~~~~~~~~~~~~~
Found 294 errors in 23 files (checked 732 source files)
